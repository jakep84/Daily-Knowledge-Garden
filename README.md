# 🌎 Daily Knowledge Garden

Your personal **automated, multi-source daily news and knowledge digest** — built entirely in Python.
It collects the world’s top stories, science updates, local headlines, and internet trends into a single, concise daily brief — automatically generated three times per day with a nightly wrap-up emailed at **10 PM**.

---

## ✨ Features

- **🧧 Daily Summary** — auto-generated AI paragraph summarizing the day’s biggest global and local events
- **🌍 Global Coverage** — Reuters, BBC, AP, NPR, ScienceDaily, and Nature combined for a balanced perspective
- **🏙️ Local Feed** — Google News search for your area (set via `LOCAL_QUERY`)
- **🚀 Hacker News Tracker** — top 10 stories charted by points & comments
- **📜 “On This Day” + Random Wikipedia Article** — curated learning nuggets
- **🌌 NASA APOD** — daily Astronomy Picture of the Day
- **📊 Charts & Markdown Reports** — saved to `/data/YYYY-MM-DD/report.md`
- **📧 Nightly Email** — a clean HTML digest sent automatically via `send_email.py`

---

## 🧉 Structure

```
.
├── main.py              # Builds daily report, markdown, and charts
├── wrapup.py            # Creates 10 PM summary email
├── send_email.py        # Sends prepared email via SMTP
├── config.py            # Global paths, constants
├── sources/             # Individual news sources (RSS & APIs)
│   ├── hn.py
│   ├── wiki.py
│   ├── apod.py
│   ├── reuters.py
│   ├── bbc.py
│   ├── ap.py
│   ├── npr.py
│   ├── science.py
│   ├── google_local.py
│   └── news_common.py
├── utils/
│   ├── summarize.py     # Uses OpenAI or local LLM summarization
│   ├── plots.py         # Chart generation via matplotlib
│   ├── files.py         # Safe I/O helpers
│   └── ...
├── data/YYYY-MM-DD/     # Daily JSON + markdown reports
├── out/                 # Email drafts generated by wrapup.py
├── requirements.txt
├── .env
└── .github/workflows/
    ├── build.yml        # Runs main.py 3× per day
    └── wrapup.yml       # Runs wrapup.py + send_email.py at 22:00 local
```

---

## ⚙️ Setup

1. **Clone & install dependencies**

   ```bash
   pip install -r requirements.txt
   ```

2. **Create a `.env` file**

   ```bash
   TIMEZONE="America/New_York"
   TO_EMAIL="you@example.com"
   SMTP_USERNAME="you@example.com"
   SMTP_PASSWORD="your_app_password"
   LOCAL_QUERY="Northern Virginia"
   ```

3. **Run manually**

   ```bash
   python main.py
   python wrapup.py --test
   python send_email.py out/email_subject.txt out/email.html
   ```

---

## 🧠 How It Works

| Step                               | What Happens                                                                                    |
| ---------------------------------- | ----------------------------------------------------------------------------------------------- |
| **1. main.py**                     | Aggregates all news, science, and local feeds, generates charts & Markdown reports.             |
| **2. GitHub Actions (3× per day)** | Runs `main.py` morning, midday, evening. Commits new data to the repo and updates the homepage. |
| **3. wrapup.py (22:00 local)**     | Synthesizes a short “Daily Brief” and compiles an HTML email.                                   |
| **4. send_email.py**               | Emails the report to you automatically using SMTP credentials from `.env`.                      |

---

## 📧 Email Example

**Subject:**
`Daily wrap-up — 2025-10-14 (Daily Knowledge Garden)`

**Body:**

- Concise 2-3 sentence AI-generated summary of the day
- Global Top 5 + Local Top 5 + HN Top 10 links
- Links to full Markdown report and GitHub Pages site

---

## 🔒 GitHub Secrets (for Actions)

| Name            | Description                                   |
| --------------- | --------------------------------------------- |
| `SMTP_USERNAME` | Your email address (or app-specific username) |
| `SMTP_PASSWORD` | App password / token                          |
| `TIMEZONE`      | e.g. `America/New_York`                       |
| `TO_EMAIL`      | Where to send the wrap-up                     |
| `LOCAL_QUERY`   | e.g. `"Northern Virginia"`                    |

---

## 🧹 .gitignore Highlights

```
.env
__pycache__/
*.pyc
data/*/raw.json
data/*/plots/
out/
*.sqlite
```

---

## 🛠 Development Notes

- Works locally or on GitHub Actions without changes.
- `.env` only used locally; Actions pull from repo Variables / Secrets.
- Summarization uses the same internal LLM for markdown + email briefs.
- Extend by adding new RSS modules under `/sources`.

---

## 🗓️ Schedule Summary

| Time (local) | Action              | File                          |
| ------------ | ------------------- | ----------------------------- |
| 07:00 AM     | Morning build       | `main.py`                     |
| 01:00 PM     | Midday update       | `main.py`                     |
| 07:00 PM     | Evening build       | `main.py`                     |
| 10:00 PM     | Daily wrap-up email | `wrapup.py` → `send_email.py` |

---

## 🚀 Example Output

- **Markdown report:** [data/2025-10-14/report.md](data/2025-10-14/report.md)
- **GitHub Pages:** [https://jakep84.github.io/Daily-Knowledge-Garden/2025-10-14/](https://jakep84.github.io/Daily-Knowledge-Garden/2025-10-14/)
- **Chart:** `hn_top10_points.png`

---

## 🤝 Contributing

Pull requests welcome!
Add new RSS or API connectors to `/sources`, or improve summarization quality in `utils/summarize.py`.

---

## 📜 License

MIT License © 2025 [Jake Priddy](https://github.com/jakep84)

---

<!--LATEST_RUN-->2025-10-19 (UTC)<!--/LATEST_RUN-->

<!--HIGHLIGHTS-->

- **HN #1:** Placeholder Title (Example)
- **APOD:** Placeholder Title (Example)
- **Daily Report:** [2025-10-14/report.md](/data/2025-10-14/report.md)

<!--/HIGH
